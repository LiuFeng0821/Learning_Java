# 3 面向对象基本概念

## 3.1 面向对象简介
面向对象程序设计的三个主要特性：
1. **封装性**：将对象的属性和行为看成密不可分的整体，并且在外界使用对象功能的前提下尽可能隐蔽对象功能的实现细节，外界也不能随便更改对象的属性值，也不能任意调动内部的功能方法。
2. **继承性**：允许子类继承父类，增强了代码的可复用性，提高了软件开发的效率。
3. **多态性**：方法重载(方法可以拥有同一个名字，但是依据方法的参数的不同，实现的功能也不一样)，对象多态(子类对象可以与父类对象互相进行转换)。

## 3.2 类与对象
声明并实例化对象：
```java
类名称 对象名称 = new 类名称() ;
```
* **对象.属性**：表示要操作类中的属性内容。
* **对象.方法**：表示要调用类中的方法。
* **堆内存（heap）**：保存每一个**对象的属性内容**，堆内存需要用**关键字new开辟**。
* **栈内存（stack）**：保存的是一块**堆内存的地址数值**，可以把它想象成一个int型变量，**一块栈内存只能够保留一块堆内存地址**。

## 3.3 封装性初步分析
使用**private封装属性**：
```java
class Book{
    private String title ;
    private double price ;
    public void getInfo(){
        System.out.println("图书名称：" + title + "\t图书价格：" + price) ;
    }
}
```
* 所有在**类中定义的属性**都要求**使用private声明**，如果属性需要被外部所使用，那么按照要求定义相应的**setter、getter方法**。

## 3.4 构造方法
* **构造方法：方法名称与类名称相同，没有返回值类型声明，同时构造方法也可以进行重载。**
构造方法和普通方法的区别：
1. **构造方法**是在**实例化新对象的时候调用一次**。
2. **普通方法**是在实例化对象产生之后，通过“**对象.方法**”调用多次。

* 在**对象实例化的过程**中，一定会经历**类的加载**、**内存的分配**、**默认值的设置**、**构造方法**。

## 3.5 匿名对象
* **没有栈内存指向堆内存空间**，就是一个匿名对象。
* 由于匿名对象没有对应的栈内存指向，所以只能使用一次，**一次之后就将成为垃圾**，并且等待**被GC回收释放**。

## 3.6 简单Java类
对于简单Java类有如下基本开发要求：
1. 类名称必须存在意义。
2. 类中所有的属性必须用private封装，封装后的属性必须提供setter和getter方法。
3. 类中可以提供任意多个构造方法，但是必须保留一个无参构造方法。
4. 类中不允许出现任何输出语句，所有信息输出必须交给调用处输出。
5. 类中需要提供有一个取得对象完整信息的方法，暂定为getInfo()，并且返回String型数据。

## 3.7 数组
声明并开辟数组：
```java
数据类型 数组名称 [] = new 数据类型[长度] ;
数据类型 [] 数组名称 = new 数据类型[长度] ;
```

* 数组定义结构使用的是**动态初始化**的方式，即数组会**首先开辟内存空间**，但是数组中的内容都是其**对应数据类型的默认值**。
* Java提供了一个“**数组.length**”的属性，可以取得数组的长度。

数组的静态初始化：
```java
数据类型 数组名称 [] = new 数据类型[]{值,值,...}
```
二维数组的初始化：
* 动态初始化： `数据类型 数组名称[][] = new 数据类型[行的个数][列的个数]`
* 静态初始化： `数据类型 数组名称[][] = new 数据类型[][]{{值,值,值},{值,值,值}}`

一些常用的数组操作方法：
1. 数组复制：`System.arraycopy(复制数组名称,复制数组开始索引,粘贴数组名称,粘贴数组开始索引,长度)`
2. 数组排序：`java.util.Arrays.sort(数组名称)`

## 3.8 String类的基本概念
String类的两种实例化方式：
1. 直接赋值：`String 变量 = "字符串";`
2. 利用构造方法：`String 变量 = new String("字符串");`

* 引用类型都可以使用“==”进行比较，但是针对引用类型的比较，比较的不是内容，而是地址的数值内容。
* 字符串比较使用equals()方法。
* **字符串数据**实际上是作为**String类的匿名对象**的形式存在的，由**系统自动生成**。

两种实例化方式的区别：
1. **直接赋值**：给**字符串的匿名对象设置了一个名字**。首先在**内存中开辟一块堆内存**，堆内存**保存字符串数据**，并且将**栈内存直接引用到此堆内存空间中**，利用直接赋值还可以实现**堆内存空间的重用**。
2. **利用构造方法**：利用**字符串常量的匿名对象来创建一个新的String类对象**。可以理解为会首先在**堆内存空间保存字符串**，然后**使用关键字new来开辟另一块堆内存空间**，而**之前的那块对内存空间没有任何栈内存指向**，将称为**垃圾**，等待**被GC回收**。

Tips：**JVM底层存在一个对象池**，当使用**直接赋值**的方式定义一个String类对象时，会将此字符串对象所使用的**匿名对象入池保存**。
* String类中定义了一个手工入池的方法：`public String intern()`

Tips：**字符串一旦定义则不可改变！**

String类的常用方法：
1. 将字符数组变为String类对象：`public String(char[] value)`
2. 将部分字符数组变为String类对象：`public String(char[] value,ing offset,int count)`
3. 返回指定索引对应的字符信息：`public char charAt(int index)`
4. 将字符串以字符数组的形式返回：`public char[] toCharArray()`
5. 将全部字节数组变为字符串：`public String(byte[] bytes)`
6. 将部分字节数组变为字符串：`public String(byte[] bytes,int offset,int length)`
7. 将字符串变为字节数组：`public byte[] getBytes()`
8. 进行编码转换：`public byte[] getBytes(String charsetName) throws UnsupportedEncodingException`
9. 进行相等判断，区分大小写：`public boolean equals(String anObject)`
10. 进行相等判断，不区分大小写：`public boolean equalsIgnoreCase(String anotherString)`
11. 判断两个字符串的大小：`public int compareTo(String anotherString)`
12. 判断指定的内容是否存在：`public boolean contains(String s)`
13. 从前向后查找指定字符串位置；`public int indexOf(String str)`
14. 从指定位置从前向后查找指定字符串位置：`public int indexOf(String str,int fromIndex)`
15. 从后向前查找指定字符串位置：`public int lastIndexOf(String str)`
16. 从指定位置从后向前查找指定字符串位置：`public int lastIndexOf(String str,int fromIndex)`
17. 判断是否以指定的字符串开头：`public boolean startsWith(String prefix)`
18. 从指定位置开始判断是否以指定的字符串开头：`public boolean startsWith(String prefix,int toffset)`
19. 判断是否以指定的字符串结尾：`public boolean endsWith(String suffix)`
20. 用新的内容替换全部旧的内容：`public String replaceAll(String regex,String replacement)`
21. 替换首个满足条件的内容：`public String replaceFirst(String regex,String replacement)`
22. 从指定索引截取到结尾：`public String substring(int beginIndex)`
23. 截取部分子字符串的数据：`public String substring(int beginIndex,int endIndex)`
24. 按照指定的字符串进行全部拆分：`public String split(String regex)`
25. 按照指定的字符串进行部分拆分：`public String[] split(String regex,int limit)`
26. 字符串连接：`public String concat(String str)`
27. 转小写：`public String toLowerCase()`
28. 转大写：`public String toUpperCase()`
29. 去掉字符串两边的空格：`public String trim()`
30. 取得字符串长度：`public int length()`
31. 数据入池：`public String intern()`
32. 判断是否是空字符串：`public boolean isEmpty()`


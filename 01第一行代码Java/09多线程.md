# 9 多线程

## 9.1 线程与进程
* 进程是程序的一次动态执行过程，它经历了从代码加载、执行到执行完毕的一个完整过程。
* 线程是在进程基础之上的进一步划分。

## 9.2 多线程的实现
* 在Java中，如果要想**实现多线程**，就必须依靠一个**线程的主体类**，这个主体类需要**继承Thread类或实现Runnable（Callable）接口**来完成定义。

* **java.lang.Thread类**是一个**负责线程操作**的类，任何类只要继承Thread类就可以成为一个线程的主类，线程启动的主方法需要覆写Thread类中的run()方法实现。
```java
class 类名称 extends Thread {
    属性;
    方法;
    public void run() {
        线程主题方法;
    }
}
```

* **多线程启动的唯一方法**就是**Thread类中的start()方法**,调用此方法执行的方法体就是run()方法中定义的代码：`public void start();`

Tips：实际上Java中真正**实现多线程**的是**start中的start0()方法**，run()方法只是一个普通方法。

* 使用**Thread类**可以方便多线程的实现，但是有**单继承**的问题，在Java中也可以**利用Runnable接口实现多线程**。
```java
@FunctionalInterface
public interface Runnable {
    public void run();
}
```

注意：虽然通过**实现Runnable接口**可以**覆写run()方法**，但是要**启动多线程**必须要**使用Thread类中的start()方法**才能完成，这时候可以利用**Thread类中的有参构造方法接收Runnable对象**来实现：`public Thread(Runable target)

```java
class MyThread implements Runnable{
	private String title;
	public MyThread(String title) {
		this.title = title;
	}
	public void run() {
		for (int x = 0;x < 5 ;x++ ){
			System.out.println(this.title + "--->" + x);
		}
	}
}
public class TestDemo{
	public static void main(String args[]) {
		MyThread m1 = new MyThread("线程1");
		MyThread m2 = new MyThread("线程2");
		MyThread m3 = new MyThread("线程3");
		new Thread(m1).start();
		new Thread(m2).start();
		new Thread(m3).start();
	}
}
```

* **Thread类是Runnable接口的子类，使用Runnable接口可以避免单继承局限，并且可以更加方便地实现数据共享的概念。**

* 虽然使用**Runnable接口**可以**避免单继承局限**，但是**Runnable接口里面的run()方法不能返回操作结果**，为了**解决这一问题**，JDK1.5开始，Java提供了一个新的接口：**java.util.concurrent.Callable**。
```java
@FunctionalInterface
public interface Callable<V> {
    public V call() throws Exception;
}
```

